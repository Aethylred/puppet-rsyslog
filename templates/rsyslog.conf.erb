# file is managed by puppet

#################
#### MODULES ####
#################

<% @modules.each do |module_row| %>
<%= module_row %><% end %>

###########################
#### GLOBAL DIRECTIVES ####
###########################

#
# Set the default permissions for all log files.
#
$FileOwner <%= scope.lookupvar('rsyslog::log_user') %>
$FileGroup <%= scope.lookupvar('rsyslog::log_group') %>
$FileCreateMode <%= scope.lookupvar('rsyslog::perm_file') %>
$DirOwner <%= scope.lookupvar('rsyslog::log_user') %>
$DirGroup <%= scope.lookupvar('rsyslog::log_group') %>
$DirCreateMode <%= scope.lookupvar('rsyslog::perm_dir') %>
<% if scope.lookupvar('osfamily') == 'redhat' and scope.lookupvar('operatingsystemrelease') >= 6.0 -%>
$PrivDropToUserID <%= scope.lookupvar('rsyslog::run_user') %>
$PrivDropToGroupID <%= scope.lookupvar('rsyslog::run_group') %>
<% end -%>

#
# Include all config files in <%= scope.lookupvar('rsyslog::rsyslog_d') %>
#
$IncludeConfig <%= scope.lookupvar('rsyslog::rsyslog_d') -%>*.conf

#
# Emergencies are sent to everybody logged in.
#
*.emerg				*
